<!doctype html>
<html lang="pt-BR">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GHOST SENSI</title>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
  <style>
    /* TODO O SEU CSS ORIGINAL MANTIDO */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { height: 100vh; overflow: hidden; display: flex; align-items: center; justify-content: center; font-family: Arial, Helvetica, sans-serif; background: #05000b; color: #fff; position: relative; }
    .rain { position: fixed; inset: 0; overflow: hidden; pointer-events: none; z-index: 0; }
    .drop { position: absolute; width: 2px; height: 18px; background: linear-gradient(to bottom, #c4b5fd, #8b5cf6); border-radius: 999px; opacity: 0.4; animation-name: fall; animation-timing-function: linear; animation-iteration-count: infinite; }
    @keyframes fall { 0% { transform: translateY(-110vh); opacity: 0; } 10% { opacity: 0.45; } 90% { opacity: 0.45; } 100% { transform: translateY(110vh); opacity: 0; } }
    .drop:nth-child(1)  { left: 3%;  animation-duration: 2.7s; animation-delay: 0s;   }
    .drop:nth-child(2)  { left: 8%;  animation-duration: 3.2s; animation-delay: .4s; }
    .drop:nth-child(3)  { left: 13%; animation-duration: 2.4s; animation-delay: .9s; }
    .drop:nth-child(4)  { left: 18%; animation-duration: 3.1s; animation-delay: .2s; }
    .drop:nth-child(5)  { left: 23%; animation-duration: 2.6s; animation-delay: 1.1s;}
    .drop:nth-child(6)  { left: 28%; animation-duration: 3.4s; animation-delay: .6s; }
    .drop:nth-child(7)  { left: 33%; animation-duration: 2.5s; animation-delay: 1.4s;}
    .drop:nth-child(8)  { left: 38%; animation-duration: 3.0s; animation-delay: .8s; }
    .drop:nth-child(9)  { left: 43%; animation-duration: 2.7s; animation-delay: 1.6s;}
    .drop:nth-child(10) { left: 48%; animation-duration: 3.3s; animation-delay: .3s; }
    .drop:nth-child(11) { left: 53%; animation-duration: 2.8s; animation-delay: 1.2s;}
    .drop:nth-child(12) { left: 58%; animation-duration: 3.1s; animation-delay: .7s; }
    .drop:nth-child(13) { left: 63%; animation-duration: 2.6s; animation-delay: 1.5s;}
    .drop:nth-child(14) { left: 68%; animation-duration: 3.5s; animation-delay: .5s; }
    .drop:nth-child(15) { left: 73%; animation-duration: 2.9s; animation-delay: 1.8s;}
    .drop:nth-child(16) { left: 78%; animation-duration: 3.2s; animation-delay: 1.0s;}
    .drop:nth-child(17) { left: 83%; animation-duration: 2.5s; animation-delay: 2.0s;}
    .drop:nth-child(18) { left: 88%; animation-duration: 3.4s; animation-delay: 1.9s;}
    .drop:nth-child(19) { left: 93%; animation-duration: 2.7s; animation-delay: 2.2s;}
    .drop:nth-child(20) { left: 97%; animation-duration: 3.0s; animation-delay: 2.5s;}
    .login-screen { position: fixed; inset: 0; display: flex; align-items: center; justify-content: center; z-index: 10; background: #05000b; }
    .login-screen.hidden { display: none; }
    .login-card { width: 380px; max-width: 90vw; background: #050509; border-radius: 20px; padding: 30px 25px; box-shadow: 0 30px 80px rgba(0, 0, 0, 0.9); border: 1px solid #111827; text-align: center; }
    .login-card h1 { font-size: 28px; margin-bottom: 10px; letter-spacing: 2px; background: linear-gradient(135deg, #8b5cf6, #c4b5fd); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
    .login-card p { font-size: 13px; color: #9ca3af; margin-bottom: 25px; }
    .key-input { width: 100%; padding: 14px; border-radius: 10px; border: 1px solid #111827; background: #06060b; color: #fff; font-size: 14px; margin-bottom: 15px; text-align: center; letter-spacing: 1px; transition: all 0.3s ease; }
    .key-input:focus { outline: none; border-color: #8b5cf6; box-shadow: 0 0 15px rgba(139, 92, 246, 0.3); }
    .btn-login { width: 100%; padding: 14px; border-radius: 10px; background: linear-gradient(135deg, #8b5cf6, #7c3aed); border: none; color: #fff; font-weight: 700; font-size: 15px; cursor: pointer; box-shadow: 0 0 20px rgba(139, 92, 246, 0.5); transition: all 0.3s ease; text-transform: uppercase; letter-spacing: 1px; }
    .error-message { color: #ef4444; font-size: 12px; margin-top: 10px; min-height: 16px; }
    .card { position: relative; z-index: 1; width: 420px; max-width: 92vw; background: #050509; border-radius: 20px; padding: 26px 22px 30px; box-shadow: 0 30px 80px rgba(0, 0, 0, 0.9); border: 1px solid #111827; max-height: 90vh; overflow-y: auto; }
    .top-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
    .notification-bell { cursor: pointer; font-size: 20px; position: relative; transition: 0.3s; }
    .bell-badge { position: absolute; top: -5px; right: -5px; background: #ef4444; color: white; font-size: 10px; padding: 2px 5px; border-radius: 50%; display: none; }
    .msg-modal { display: none; position: absolute; top: 60px; left: 50%; transform: translateX(-50%); width: 90%; background: #0b0b12; border: 1px solid #8b5cf6; border-radius: 12px; padding: 15px; z-index: 100; box-shadow: 0 10px 30px rgba(0,0,0,0.8); }
    .msg-header { display: flex; justify-content: space-between; font-size: 14px; font-weight: bold; color: #8b5cf6; margin-bottom: 10px; border-bottom: 1px solid #111827; padding-bottom: 5px; }
    #msgList { max-height: 150px; overflow-y: auto; font-size: 12px; color: #e5e7eb; margin-bottom: 10px; }
    .msg-item { background: #111827; padding: 8px; border-radius: 5px; margin-bottom: 5px; }
    .tab-navigation { display: flex; gap: 10px; margin-bottom: 20px; margin-top: 10px; }
    .tab-btn { flex: 1; padding: 10px; background: #0b0b12; border: 1px solid #111827; color: #9ca3af; border-radius: 8px; cursor: pointer; font-size: 12px; font-weight: bold; }
    .tab-btn.active { background: #8b5cf6; color: #fff; border-color: #a78bfa; }
    .tab-content { display: none; }
    .tab-content.active { display: block; }
    .section { background: #06060b; border-radius: 12px; padding: 12px 12px 10px; margin-bottom: 12px; border: 1px solid #111827; }
    .section-header { display: flex; align-items: center; justify-content: space-between; font-size: 12px; color: #e5e7eb; margin-bottom: 8px; }
    .option { display: flex; align-items: center; gap: 8px; margin: 6px 0; }
    .option input[type="checkbox"] { width: 13px; height: 13px; accent-color: #8b5cf6; cursor: pointer; }
    .fov-row { display: flex; align-items: center; justify-content: space-between; margin-top: 10px; }
    .fov-row input[type="range"] { flex: 1; margin: 0 10px; accent-color: #8b5cf6; }
    .info-line { display: flex; justify-content: flex-start; gap: 4px; margin-bottom: 12px; font-size: 14px; }
    .info-label { color: #8b5cf6; font-weight: bold; }
    .info-value { color: #fff; }
    .btn-primary { width: 100%; margin-top: 16px; padding: 12px 0; border-radius: 8px; background: #8b5cf6; border: none; color: #fff; font-weight: 600; font-size: 15px; cursor: pointer; box-shadow: 0 0 20px rgba(139, 92, 246, 0.95); }
    .btn-secondary { width: 100%; margin-top: 8px; padding: 10px 0; border-radius: 8px; background: #050509; border: 1px solid #111827; color: #e5e7eb; font-size: 12px; cursor: pointer; }
    .btn-secondary.active { background: #22c55e; border-color: #22c55e; color: #fff; }
    .status { margin-top: 12px; font-size: 11px; color: #a7f3d0; min-height: 14px; text-align: center; }
    .ff-options { display: none; margin-top: 12px; gap: 8px; }
    .ff-options.show { display: flex; flex-direction: column; }
    .btn-ff { width: 100%; padding: 12px 0; border-radius: 8px; background: linear-gradient(135deg, #a78bfa 0%, #8b5cf6 100%); border: none; color: #fff; font-weight: 600; font-size: 14px; cursor: pointer; }
    .injection-log { margin-top: 12px; padding: 12px; border-radius: 8px; background: #06060b; border: 1px solid #111827; max-height: 200px; overflow-y: auto; font-family: 'Courier New', monospace; font-size: 10px; display: none; }
    .injection-log.show { display: block; }
    .log-line { color: #22c55e; margin: 3px 0; }
    .info-box { margin-top: 12px; padding: 10px; border-radius: 8px; background: rgba(139, 92, 246, 0.1); border: 1px solid rgba(139, 92, 246, 0.3); font-size: 11px; color: #c4b5fd; text-align: center; }
  </style>
 </head>
 <body>
  <div class="rain">
   <div class="drop"></div><div class="drop"></div><div class="drop"></div><div class="drop"></div><div class="drop"></div><div class="drop"></div><div class="drop"></div><div class="drop"></div><div class="drop"></div><div class="drop"></div><div class="drop"></div><div class="drop"></div><div class="drop"></div><div class="drop"></div><div class="drop"></div><div class="drop"></div><div class="drop"></div><div class="drop"></div><div class="drop"></div><div class="drop"></div>
  </div>

  <div class="login-screen" id="loginScreen">
   <div class="login-card">
    <h1>üîê GHOST SENSI </h1>
    <p>Digite sua key para acessar</p>
    <input type="text" class="key-input" id="keyInput" placeholder="DIGITE SUA KEY" maxlength="50">
    <button class="btn-login" id="btnLogin">ACESSAR</button>
    <div class="error-message" id="errorMessage"></div>
   </div>
  </div>

  <div class="card" id="mainCard" style="display: none;">
   <div class="top-bar">
     <div style="width: 20px;"></div> <h1>üëë KING SENSI</h1>
     <div class="notification-bell" id="bellIcon">üîî<span class="bell-badge" id="bellBadge">0</span></div>
   </div>

   <div class="msg-modal" id="msgModal">
     <div class="msg-header"><span>Notifica√ß√µes</span><span style="cursor:pointer" onclick="document.getElementById('msgModal').style.display='none'">‚úñ</span></div>
     <div id="msgList"><div class="msg-item">Nenhuma mensagem nova.</div></div>
     <div class="msg-footer">
       <button class="btn-msg-save" id="btnSaveMsg">SALVAR</button>
       <button class="btn-msg-del" id="btnDelAllMsg">EXCLUIR TUDO</button>
     </div>
   </div>

   <div class="tab-navigation">
     <button class="tab-btn active" id="btnTabAjuste">‚öôÔ∏è AJUSTE</button>
     <button class="tab-btn" id="btnTabInfo">üë§ INFO</button>
   </div>

   <div id="tabContentAjuste" class="tab-content active">
     <div class="section">
      <div class="section-header"><span>üéÆ Sistema Avan√ßado</span><div class="arrow"></div></div>
      <div class="section-body">
       <label class="option"> <input type="checkbox" id="fps120"> <span>120 FPS - Fluidez M√°xima</span> </label> <label class="option"> <input type="checkbox" id="norecoil"> <span>No Recoil - Estabiliza√ß√£o Total</span> </label>
      </div>
     </div>
     <div class="section">
      <div class="section-header"><span>üéØ Ajustes de Mira</span><div class="arrow"></div></div>
      <div class="section-body">
       <label class="option"> <input type="checkbox" id="aimbot"> <span>Aux√≠lio de Mira 90%</span> </label> <label class="option"> <input type="checkbox" id="headtrick"> <span>Head Trick - Prioridade Cabe√ßa</span> </label> <label class="option"> <input type="checkbox" id="neural"> <span>Neural Aim - IA Avan√ßada</span> </label>
       <div class="fov-row">
        <span>FOV</span> <input type="range" id="fov" min="0" max="100" value="0"> <span id="fovValue">0</span>
       </div>
      </div>
     </div>
   </div>

   <div id="tabContentInfo" class="tab-content">
     <div class="section">
       <div class="info-line"><span class="info-label">Criador:</span><span class="info-value">GHOST</span></div>
       <div class="info-line"><span class="info-label">Status:</span><span class="info-value" style="color: #22c55e;">ONLINE</span></div>
       <div class="info-line"><span class="info-label">Sua Key:</span><span class="info-value" id="valKey">...</span></div>
       <div class="info-line"><span class="info-label">Expira em:</span><span class="info-value" id="expiraDisplay">...</span></div>
       <div class="info-line"><span class="info-label">Plano:</span><span class="info-value" id="valPlano">...</span></div>
       <div class="info-line"><span class="info-label">Regi√£o:</span><span class="info-value">BRASIL</span></div>
     </div>
   </div>

   <button class="btn-primary" id="btnInjetar">‚ö° INJETAR CONFIGURA√á√ïES</button>
   <div class="injection-log" id="injectionLog"></div>
   <div class="ff-options" id="ffOptions">
    <button class="btn-ff" id="btnFFNormal">üéÆ FREE FIRE NORMAL</button>
    <button class="btn-ff" id="btnFFMax">üî• FREE FIRE MAX</button>
   </div>
   <button class="btn-secondary" id="btnIos">üì± Aux√≠lio iOS DNS</button>
   <button class="btn-secondary" id="btnAndroid">ü§ñ Aux√≠lio Android DNS</button>
   <div class="status" id="statusText"></div>
   <div class="info-box" id="infoBox">‚úÖ Sistema Ativo | üîí Conex√£o Segura</div>
  </div>

  <script>
    const firebaseConfig = { databaseURL: "https://painel-vip-49b10-default-rtdb.firebaseio.com/" };
    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();

    // ID √∫nico simplificado
    const deviceID = btoa(navigator.userAgent + screen.width).substring(0, 15);

    const loginScreen = document.getElementById('loginScreen');
    const mainCard = document.getElementById('mainCard');
    const keyInput = document.getElementById('keyInput');
    const btnLogin = document.getElementById('btnLogin');
    const errorMessage = document.getElementById('errorMessage');
    const expiraDisplay = document.getElementById('expiraDisplay');
    const valKey = document.getElementById('valKey');
    const valPlano = document.getElementById('valPlano');
    const msgModal = document.getElementById('msgModal');
    const bellIcon = document.getElementById('bellIcon');
    const msgList = document.getElementById('msgList');
    const bellBadge = document.getElementById('bellBadge');

    let currentKey = "";
    
    // ConfigData para a l√≥gica de inje√ß√£o
    const configData = { 
        fps120: { active: false }, 
        norecoil: { active: false }, 
        aimbot: { active: false }, 
        headtrick: { active: false }, 
        neural: { active: false }, 
        fov: { value: 0 } 
    };

    // Atualizar configData quando os inputs mudarem
    document.querySelectorAll('input[type="checkbox"]').forEach(el => {
        el.addEventListener('change', (e) => { configData[e.target.id].active = e.target.checked; });
    });
    document.getElementById('fov').addEventListener('input', (e) => { 
        configData.fov.value = e.target.value; 
        document.getElementById('fovValue').textContent = e.target.value;
    });

    function validateKey() {
      const enteredKey = keyInput.value.trim();
      if (enteredKey === '') { errorMessage.textContent = '‚ùå Digite uma key'; return; }
      btnLogin.disabled = true;
      btnLogin.textContent = 'VERIFICANDO...';

      database.ref('banidos/' + deviceID).once('value').then((banSnapshot) => {
        if (banSnapshot.exists()) {
          errorMessage.textContent = 'üö´ APARELHO BANIDO PELO ADM';
          btnLogin.disabled = false; btnLogin.textContent = 'ACESSAR';
          return;
        }

        database.ref('keys/' + enteredKey).once('value').then((snapshot) => {
          if (snapshot.exists()) {
            const data = snapshot.val();
            if (!data.hwids || data.hwids === "") {
               database.ref('keys/' + enteredKey).update({ hwids: deviceID });
            } else if (data.hwids !== deviceID) {
               errorMessage.textContent = '‚ùå Key vinculada a outro celular!';
               btnLogin.disabled = false; btnLogin.textContent = 'ACESSAR';
               return;
            }
            currentKey = enteredKey;
            loginScreen.classList.add('hidden');
            mainCard.style.display = 'block';
            valKey.textContent = enteredKey;
            database.ref('keys/' + enteredKey).update({ usando: 1 });
            if(!data.expira || data.expira === 'Vital√≠cio') { valPlano.textContent = 'VITAL√çCIO ULTIMATE'; } 
            else { valPlano.textContent = 'PREMIUM MENSAL'; }
            handleExpiration(data.expira);
            if(data.mensagem) {
               msgList.innerHTML = `<div class="msg-item">${data.mensagem}</div>`;
               bellBadge.textContent = "1"; bellBadge.style.display = 'block';
            }
          } else {
            errorMessage.textContent = '‚ùå Key inv√°lida';
            btnLogin.disabled = false; btnLogin.textContent = 'ACESSAR';
          }
        });
      });
    }

    function handleExpiration(expValue) {
      if (!expValue || expValue === 'Vital√≠cio') { expiraDisplay.textContent = 'Vital√≠cio'; return; }
      const target = parseInt(expValue);
      const timer = setInterval(() => {
        const diff = target - new Date().getTime();
        if (diff <= 0) { clearInterval(timer); window.location.reload(); } 
        else {
          const h = Math.floor((diff % 86400000) / 3600000);
          const m = Math.floor((diff % 3600000) / 60000);
          const s = Math.floor((diff % 60000) / 1000);
          expiraDisplay.textContent = `${h}h ${m}m ${s}s`;
        }
      }, 1000);
    }

    // L√ìGICA DE INJE√á√ÉO COMPLETA (IGUAL AO SEU)
    const injectionMessages = [
      '> Iniciando GHOST SENSI Advanced System...',
      '> Verificando permiss√µes do dispositivo...',
      '> [‚úì] Permiss√µes concedidas',
      '> Conectando ao servidor de otimiza√ß√£o...',
      '> [‚úì] Servidor conectado',
      '> Analisando configura√ß√µes selecionadas...',
      '> [‚úì] An√°lise completa',
      '> Preparando inje√ß√£o de par√¢metros...',
      '> [‚úì] Par√¢metros preparados',
      '> Aplicando otimiza√ß√µes de rede...',
      '> [‚úì] Rede otimizada',
      '> Configurando sensibilidade avan√ßada...',
      '> [‚úì] Sensibilidade configurada',
      '> Aplicando estabiliza√ß√£o de mira...',
      '> [‚úì] Estabiliza√ß√£o aplicada',
      '> Otimizando FPS e renderiza√ß√£o...',
      '> [‚úì] FPS otimizado',
      '> Configurando predi√ß√£o neural...',
      '> [‚úì] Neural configurado',
      '> Finalizando inje√ß√£o...',
      '> [‚úì‚úì‚úì] INJE√á√ÉO CONCLU√çDA COM SUCESSO!',
      '> Sistema pronto para uso'
    ];

    function addLogLine(message) {
      const line = document.createElement('div');
      line.className = 'log-line';
      line.textContent = message;
      document.getElementById('injectionLog').appendChild(line);
      document.getElementById('injectionLog').scrollTop = document.getElementById('injectionLog').scrollHeight;
    }

    async function performInjection() {
      const btnInjetar = document.getElementById('btnInjetar');
      const injectionLog = document.getElementById('injectionLog');
      btnInjetar.disabled = true;
      btnInjetar.classList.add('injecting');
      btnInjetar.textContent = '‚ö° INJETANDO...';
      injectionLog.innerHTML = '';
      injectionLog.classList.add('show');

      for (let i = 0; i < injectionMessages.length; i++) {
        addLogLine(injectionMessages[i]);
        await new Promise(resolve => setTimeout(resolve, 200));
      }

      await new Promise(resolve => setTimeout(resolve, 500));
      btnInjetar.textContent = '‚úÖ INJETADO';
      btnInjetar.classList.remove('injecting');
      document.getElementById('statusText').textContent = '‚úì Configura√ß√µes aplicadas! Escolha sua vers√£o:';
      document.getElementById('ffOptions').classList.add('show');
      setTimeout(() => { btnInjetar.disabled = false; }, 2000);
    }

    document.getElementById('btnInjetar').addEventListener('click', performInjection);

    // FREE FIRE COM PARAMS (IGUAL AO SEU)
    document.getElementById('btnFFNormal').addEventListener('click', () => {
      document.getElementById('statusText').textContent = 'üéÆ Abrindo Free Fire Normal com configura√ß√µes...';
      window.location.href = 'intent://#Intent;scheme=freefire;package=com.dts.freefireth;end';
      setTimeout(() => { document.getElementById('statusText').textContent = '‚úì Entrando no jogo...'; }, 500);
    });

    document.getElementById('btnFFMax').addEventListener('click', () => {
      document.getElementById('statusText').textContent = 'üî• Abrindo Free Fire MAX com configura√ß√µes...';
      window.location.href = 'intent://#Intent;scheme=freefire;package=com.dts.freefiremax;end';
      setTimeout(() => { document.getElementById('statusText').textContent = '‚úì Entrando no jogo...'; }, 500);
    });

    // Restante dos eventos
    btnLogin.addEventListener('click', validateKey);
    bellIcon.addEventListener('click', () => { document.getElementById('msgModal').style.display = 'block'; bellBadge.style.display = 'none'; });
    document.getElementById('btnTabAjuste').addEventListener('click', () => { 
        document.getElementById('btnTabAjuste').classList.add('active'); document.getElementById('btnTabInfo').classList.remove('active');
        document.getElementById('tabContentAjuste').classList.add('active'); document.getElementById('tabContentInfo').classList.remove('active');
    });
    document.getElementById('btnTabInfo').addEventListener('click', () => { 
        document.getElementById('btnTabInfo').classList.add('active'); document.getElementById('btnTabAjuste').classList.remove('active');
        document.getElementById('tabContentInfo').classList.add('active'); document.getElementById('tabContentAjuste').classList.remove('active');
    });
    document.getElementById('btnIos').addEventListener('click', (e) => { e.target.classList.toggle('active'); document.getElementById('btnAndroid').classList.remove('active'); });
    document.getElementById('btnAndroid').addEventListener('click', (e) => { e.target.classList.toggle('active'); document.getElementById('btnIos').classList.remove('active'); });
  </script>
 </body>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                             </html>
